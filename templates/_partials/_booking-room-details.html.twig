<section class="hero-image">
</section>


{# <section id="welcome-booking" class="welcome">
    <img src="{{ asset('./assets/img/tag-room.svg')}}" alt="panneau de porte">
    <h1>Réservez votre chambre</h1>
    <hr>
    <h2>Trouvez la chambre parfaite pour votre prochain séjour</h2>
    <div class="reservation-container">
        {{ form_start(bookingForm) }}
            <div class="input-reservation">
                {{ form_label(bookingForm.start_date) }}
                {{ form_widget(bookingForm.start_date) }}
            </div>

            <span class="separator"></span>

            <div class="input-reservation">
                {{ form_label(bookingForm.end_date) }}
                {{ form_widget(bookingForm.end_date) }}
            </div>

            <span class="separator"></span>

            <div class="input-reservation">
                {{ form_label(bookingForm.adults_cap) }}
                {{ form_widget(bookingForm.adults_cap) }}
            </div>

            <span class="separator"></span>

            <div class="input-reservation">
                {{ form_label(bookingForm.children_cap) }}
                {{ form_widget(bookingForm.children_cap) }}
            </div>


            <span class="separator"></span>

            <input type="submit" class="btn btn-green" value="Réserver">

        {{ form_end(bookingForm) }}
    </div>
</section> #}


<section class="room-presentation-detail">

    <div class="room-presentation-detail__container">

        {# left #}
        <div class="room-presentation-detail__container__left">

                <!-- Room cards -->
            <div class="room-cards">
                <div class="room-cards__container">
                    <div class="card">
                        <a href="{{ path('app_booking_show',{'id': room.id}) }}" title="{{room.titleRoom}}">
                            <div class="card__img">
                                <img src="{{ asset( vich_uploader_asset(room, 'roomMainImage'))}}" alt="{{room.titleRoom}}">
                            </div>
                        </a>
                        <div class="card__content">
                            <div class="card__content__left">
                                <h3 class="room-title">{{room.titleRoom}}</h3>
                                <ul>
                                    {% set room_id = room.id %}
                                    <li>{{room.typeRoom}}</li>
                                    <li>{{room.sizeRoom}}m<sup>2</sup></li>
                                    <li>{{room.adultsCap}} adultes</li>
                                    <li>{{room.childrenCap}} enfants</li>
                                    <li class="hidden">{{room.id}}</li>
                                </ul>
                            </div>
                            <div class="card__content__right">
                                <p class="begin_at">à partir de</p>
                                <p class="price">{{room.priceRoom}}<sup>€</sup></p>
                                <p class="by_night">/ nuit</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <hr>

            {# Room services #}
            <div class="room-services">
                <h2 class="room-services__title">Services inclus avec la chambre</h2>

                {% for equipment in equipments %}
                    <div class="room-services__detail">
                        <img src="{{ asset( vich_uploader_asset(equipment, 'roomIcon'))}}" alt="{{ equipment.name }}" class="room-services__detail__icon">
                        <p class="room-services__detail__text">{{ equipment.name}}</p>
                    </div>
                {% endfor %}

            </div>

        </div>


        <div class="horizontal-separator"></div>

        {# right #}
        <div class="room-presentation-detail__container__right">
        <h2>Récapitulatif de la réservation</h2>
            <table class="booking-summary">
                <tbody>
                    <tr>
                        <td>
                            <p class="subtitle">Réservation Chambre :</p>
                            <p>{{room.titleRoom}} -  {{ room.priceRoom }} €</p>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <p class="subtitle">Dates du séjour :</p>
                                <p>
                                    Arrivée : {{ start_date|date('d-m-Y') }}
                                    <br>
                                    Départ : {{ end_date|date('d-m-Y') }}
                                </p>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <p class="subtitle">Taxe de séjour :</p>
                            <p>2%</p>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p class="subtitle">Nombre de personnes </p>
                            <p>{{adults}} Adultes - {{children}} Enfants</p>
                        </td>
                    </tr>
                </tbody>
            </table>

            <hr>

            <table class="booking-total">
                <thead>
                    <th>
                        <h3>
                            Total de la réservation
                        </h3>
                    </th>
                </thead>
                <tbody>
                    <tr>
                    {% set totalCost = 0 %}
                    {% set totalCost = totalCost + duration * room.priceRoom * 1.02 %}
                    <tr>
                        <td>{{ totalCost }} €</td>
                    </tr>
                </tbody>
            </table>

            <pre>
                {{ dump(session) }}
            </pre>

            <hr>

            {{ form_start(bookingConfirmForm, {'room_id': room.id}) }}
                {{ form_widget(bookingConfirmForm.room_id, {'value': room_id}) }}
                {{ form_widget(bookingConfirmForm.adults_cap, {'value': adults}) }}
                {{ form_widget(bookingConfirmForm.children_cap, {'value': children}) }}
                {{ form_widget(bookingConfirmForm.start_date, {'value': start_date|date()}) }}
                {{ form_widget(bookingConfirmForm.end_date, {'value': end_date|date()}) }}
                {{ form_widget(bookingConfirmForm.total_cost, {'value': totalCost}) }}
                {{ form_widget(bookingConfirmForm.created_at, {'value': 'now'|date()})}}
                
            {{ form_end(bookingConfirmForm) }}

        </div>

    </div>

    
</section>


<section class="services-room">
</section>